\chapter{สรุปผล}

\section{ผลการดำเนินงาน}
ในภาคการเรียนที่ 1/2563 ทางคณะผู้จัดทำได้ทำการนำเสนอหัวข้อโปรเจค ศึกษาและรวบรวมข้อมูลต่างๆ เก็บ Requirment จากบรรณารักษ์ และได้ออกแบบเว็บไซต์ User Interface, 
โครงสร้างฐานข้อมูลและวิธีต่างๆในการสร้างเว็บไซต์ที่จะทำการแปลงรูปภาพให้อยู่ในรูปแบบดิจิทัล 
และทำการศึกษา เรียนรู้และออกแบบวิธีการเตรียมข้อมูลรูปภาพก่อนที่จะนำไปทำการ OCR สร้างระบบเตรียมข้อมูลตัวหนังสือ อย่างการตัดคำ และการแก้ไขคำผิด เพื่อเตรียมข้อมูลที่ได้จากการทำ OCR 
ให้อยู่ในรูปแบบที่เหมาะสมสำหรับระบบการค้นหา และสร้างระบบค้นหาคำสำคัญด้วยหลักการของ TF-IDF เพื่อใช้สร้างแท็ก ของตัวหนังสือ

ณ เวลาปัจจุบันในภาคเรียนที่ 2/2563 ทางคณะผู้จัดทำได้วางแผนที่จะสร้างเว็บไซต์ จัดทำระบบการค้นหา และโมเดล Word2Vec ทำการประเมินระบบการออกแบบ
 User Interface การเตรียมข้อมูลรูปภาพ ระบบการแก้คำผิด และระบบการค้นหา 

\begin{table}[H]
\caption{ตารางสรุปผลลัพธ์การดำเนินงาน}\label{tbl:milestone}
\begin{tabular}{|p{0.5\linewidth}|l|l|l|}
\hline
\multicolumn{1}{|c|}{แผนการดำเนินการ}                                                & \multicolumn{1}{c|}{ยังไม่ดำเนินการ} & \multicolumn{1}{c|}{กำลังดำเนินการ} & \multicolumn{1}{c|}{เสร็จสิ้น} \\ \hline
ศึกษาค้นคว้าหาปัญหาของโครงการ                                                        &                                      &                                     & \cellcolor[HTML]{92D050}       \\ \hline
เสนอหัวข้อโปรเจค                                                                     &                                      &                                     & \cellcolor[HTML]{92D050}       \\ \hline
ศึกษาและหาข้อมูลเกี่ยวกับเทคโนโลยีที่ใช้ในโปรเจค                                     &                                      &                                     & \cellcolor[HTML]{92D050}       \\ \hline
ประเมินความเป็นไปได้และกำหนดขอบเขตของโปรเจค                                          &                                      &                                     & \cellcolor[HTML]{92D050}       \\ \hline
จัดเก็บ requirement จากกลุ่มผู้ใช้งาน                                                &                                      &                                     & \cellcolor[HTML]{92D050}       \\ \hline
นำเสนอโครงงานครั้งที่ 1                                                              &                                      &                                     & \cellcolor[HTML]{92D050}       \\ \hline
ออกแบบ UX/UI                                                                         &                                      &                                     & \cellcolor[HTML]{92D050}       \\ \hline
การแปลงรูปภาพให้อยู่ในรูปแบบดิจิทัล                                                        &                                      &                                     & \cellcolor[HTML]{92D050}       \\ \hline
นำข้อมูลที่เก็บไว้มาทำการตัดแบ่งคำภาษาไทยและทำการสร้างแท็ก โดยใช้หลักการของ TF-IDF &                                      &                                     & \cellcolor[HTML]{92D050}       \\ \hline
จัดทำระบบการค้นหา                                                                    &                                      &           &  \cellcolor[HTML]{92D050}                               \\ \hline
จัดทำเว็บไซต์แพลตฟอร์ม                                                               &                                      &                                     & \cellcolor[HTML]{92D050}       \\ \hline
ทดสอบระบบ                                                                            &                                      &            &  \cellcolor[HTML]{92D050}                               \\ \hline
ปรับปรุงแก้ไข                                                                        &                                      & 	            &   \cellcolor[HTML]{92D050}                             \\ \hline
นำเสนอโปรเจค                                                                         &                 & \cellcolor[HTML]{FFC702}	               &                                 \\ \hline
\end{tabular}
\end{table}

\section{สรุปผลการดำเนินงาน}

\underline{การแปลงข้อมูลรูปภาพให้เป็นข้อมูลดิจิทัล}

จากผลลัพธ์ที่อยู่ในบทที่ 4 เราเลือกการวัดผลลัพธ์การทำ Image processing ด้วยวิธีเช็คคำผ่านกระบวนการ OCR ว่าวิธีที่ใช้ในการเตรียมรูปภาพแบบไหนให้ประสิทธิ์ภาพออกมาได้ดีกว่ากัน
โดยที่เราเลือกใช้การเตรียมข้อมูลรูปภาพด้วยวิธีที่ 2 ซึ่งก็คือวิธีการลบพื้นหลัง เนื่องจากให้ผลลัพธ์โดยรวมที่มีประสิทธิ์ภาพมากกว่าวิธีที่ 1 
ที่ใช้วิธีการคัดเลือกข้อมูล การหมุน การลบรูปภาพ การลบเส้นและการจัดกลุ่ม แต่เนื่องจากการลบเส้นตรงทั้งแนวนอนและแนวตั้งทำ
ให้มีการลบตัวอักษรบางส่วนไปส่งผลให้เกิดการอ่านที่ยากขึ้น 
และการลบรูปภาพยังมีความผิดพลาดทำให้ลบเนื้อหาที่เป็นตัวอักษรบางส่วนไป ดังนั้น
วิธีการลบพื้นหลังจึงมีประสิทธิ์ภาพมากกว่าเนื่องจากไม่ได้ทำให้ข้อมูลเนื้อหาเกิดความเสียหายถึงแม้อาจจะทำให้ลบรูปภาพออกไปไม่หมดก็ตาม 
ขั้นตอนถัดมาจะนำรูปภาพที่ผ่านการทำ Image processing มาผ่านกระบวนการ OCR จาก Tesseract โดยเราได้ทำการ
เปรียบเทียบข้อมูลที่นำมาใช้โดยจะนำโมเดลภาษาไทย ในปี 2016 และ ในปี 2019 ของ Tesseract มาเปรียบเทียบประสิทธิ์ภาพ และประเมินประสิทธิภาพการ
แก้คำผิดภาษาไทยโดยใช้ library pythainlp และภาษาอังกฤษใช้ library pyspellchecker รวมถึงสร้างกลุ่มคำเฉพาะและ
แก้ไขด้วยตนเองด้วยวิธี minimum edit distance ว่าสามารถช่วยแก้คำผิดได้มากแค่ไหนและทำให้ผลลัพธ์หลังจากการแก้คำผิดนั้นผิดพลาดมากขึ้นรึเปล่า

จากผลลัพธ์ที่อยู่ในบทที่ 4 จะเห็นว่าการแก้คำผิดด้วยวิธีต่างๆ สามารถแก้ไขคำผิดได้ประมาณ 2 \% ทางผู้จัดทำคาดว่าเนื่องจากข้อมูลหนังสือที่เรานำมาใช้นั้น
มีการใช้ภาษาที่แตกต่างกับหนังสือทั่วไปอีกทั้งยังมีการใช้คำเฉพาะอย่าง ชื่อคน สถานที่ วันเวลา งานวิจัย เป็นจำนวนมาก ซึ่งถึงแม้จะมีการแก้คำเฉพาะแต่ก็ยังไม่ครอบคลุมข้อมูลทั้งหมด
ทำให้การแก้ไขคำผิดมีประสิทธิภาพไม่สูงตามที่คาดหวังไว้ จะเห็นได้จากข้อมูลที่ใช้โมเดลในปี 2016 
ที่ได้ผลลัพธ์ความถูกต้องก่อนแก้ไขคำผิดอยู่ที่ 74.75 \% เพิ่มขึ้นเป็น 76.61 \% หลังจากผ่านวิธีในการแก้ไขคำผิด และทำให้มีคำเกินลดลงเมื่อเทียบกับก่อนที่จะแก้คำผิด
และจากการเปรียบเทียบโมเดลในปี 2016 และชุดโมเดลในปี 2019 พบว่าโมเดลชุด 2019 นั้นมีเปอร์เซ็นต์ความถูกต้องอยู่ที่ 77.41 \% ซึ่งสูงกว่าชุดโมเดลปี 2016 แต่ว่า จำนวนคำเกินที่ได้จาก โมเดลปี 2019
นั้นมีมากกว่าปี 2016 กว่าเท่าตัว (ปี 2019 มีคำเกิน 173 คำ ปี 2016 มี 83 คำ) ทำให้เราเลือกใช้โมเดลในปี 2016 ในการทำ OCR ในโปรเจคนี้

\underline{การค้นหาเอกสารภายในระบบ}

จากผลลัพธ์ในบทที่ 4 จะเห็นได้ว่าการใช้งานคะแนน TF-IDF ร่วมกับ Word2Vec กับข้อมูลภายในระบบได้ผลลัพธ์ที่ไม่ดีนักโดยที่
มีค่าความแม่นยำ (Accuracy) อยู่เพียงแค่ 61.46 \% และค่าความครอบคลุม (Recall) อยู่ที่ 88.24 \% ซึ่งเทียบกับการใช้ TF-IDF เพียงอย่างเดียว
ได้ผลลัพธ์ที่ดีกว่าโดยที่มีค่าความแม่นยำ 75\% ค่าความครอบคลุมอยู่ที่ 88.24 \% คาดว่าเนื่องจากข้อมูลที่นำมาใช้งานภายในโมเดล Word2Vec 
มีจำนวนที่น้อยจนเกินไปนอกจากนั้นลักษณะการเขียนเนื้อหาภายในหนังสือมีการใช้คำเฉพาะทำให้หาความสัมพันธ์ของคำได้ยากยิ่งขึ้น
รวมถึงการค้นหาค่าความสัมพันธ์ของคำเฉพาะอย่างชื่อบุคคล นั้นยังทำได้ไม่ดีนัก จากการทดลองพบว่าเมื่อนำคำค้นที่เป็นชื่อเฉพาะออกที่ให้มีค่าความแม่นยำเพิ่มขึ้นเป็น 79.17 \%
โดยที่ค่าความครอบคลุมเพิ่มเป็น 87.5 \%

หลังจากได้ผลลัพธ์การเปรียบเทียบประสิทธิภาพเวลาในการค้นหาในบทที่ 4 โดยการนำบุคคลธรรมดาที่ใช้ระบบค้นหาของเราเปรียบเทียบกับเจ้าหน้าที่
บรรณารักษ์ที่เปิดค้นหาข้อมูลด้วยวิธีการปกติพบว่า
ระยะเวลาในการเลือกหนังสือที่มีความเกี่ยวข้อง บุคคลธรรมดา ทั้ง 2 คน ที่ใช้ระบบสามารถค้นหาหนังสือที่มีคำที่เกี่ยวข้องเจอและถูกต้องได้ภายในเวลาเฉลี่ย 
1 นาที ซึ่งเมื่อเปรียบเทียบกับเจ้าหน้าที่บรรณารักษ์ที่เปิดค้นหาข้อมูลด้วยวิธีปกติพบว่ากว่าจะเจอหนังสือที่เกี่ยวข้องก็ต้องเปิดอ่านข้อมูลข้างในก่อนทำให้
ใช้เวลาไปถึง 11 นาทีถึงจะสามารถเลือกหนังสือที่ตรงกับคำที่ต้องการค้นหา แต่เนื่องจากระบบค้นหาภายในโปรเจคยังไม่สามารถระบุหน้าที่มีคำค้นหาได้จึงทำ
ให้ถ้าเปรียบเทียบให้บุคคลธรรมดาเปิดหาหน้าที่มีคำค้นหาคนที่ 1 จะใช้เวลา 10 นาที และคนที่สองใช้เวลา 12 นาที และในส่วนของเจ้าหน้าที่บรรณารักษ์
ที่ใช้วิธีการปกติจึงใช้เวลาไป 11 นาที เท่าเดิมเนื่องจากต้องเปิดเจอคำค้นหาก่อนถึงจะสามารถระบุหนังสือที่เกี่ยวข้องได้ และจากผลลัพธ์พบว่าการที่เจ้าหน้า
ที่บรรณารักษ์ใช้เวลาส่วนใหญ่ในการค้นหาหนังสือที่เกี่ยวข้องเนื่องจากการที่สุ่มหยิบหนังสือแต่ไม่มีคำสำคัญที่ต้องการทำให้ต้องเสียเวลาในการค้นหาเพิ่มมากยิ่งขึ้น
ซึ่งถ้าเจ้าหน้าที่บรรณารักษ์ใช้ระบบค้นหาภายในโปรเจคนี้จะช่วยลดเวลาในการค้นหาไปถึง 5 นาที สำหรับการสุ่มหยิบหนังสือที่ไม่เกี่ยวข้องมาและในส่วน
ของผลลัพธ์ที่ทางเจ้าหน้าที่บรรณารักษ์คาดหวังสำหรับความแม่นยำอยู่ที่ 75 \% ซึ่งระบบค้นหาของเราทำได้อย่างพอดีที่คาดหวังไว้

\underline{การออกแบบและการใช้งานเว็บไซต์แพลตฟอร์ม}

จากผลลัพธ์การประเมินจากเจ้าหน้าที่บรรณารักษ์ผู้ใช้งานจริงได้ประเมินผลลัพธ์ค่อนข้างออกมาเป็นที่น่าพึงพอใจ แต่ยังมีบางส่วนที่ถ้าใช้เพียงแค่ไอคอนรูปภาพสื่อความหมายเจ้าหน้าที่บรรณารักษ์อาจจะ
ยังไม่เข้าใจนักจึงต้องการเพิ่มเติมในส่วนของคำอธิบายเพิ่มประกอบไปด้วยซึ่งทางเราได้ปรับปรุงเพิ่มคำอธิบายและสิ่งที่ผู้ใช้ไม่เข้าใจเรียบร้อยแล้ว
และการออกแบบการทำงานของเว็ตไซต์แพลฟอร์มโดยใช้ NodeJS React Django สามารถส่งข้อมูลส่งไปมาและรับส่งข้อมูลผ่าน Restful Apiและฐานข้อมูลทำได้อย่างไม่มีปัญหาใดๆ

\section{ปัญหาที่พบและการแก้ไข}
\subsection{ปัญหาหน้าสีอ่านยาก}
เนื่องจากหนังสือแต่ละเล่มมีลักษณะที่แตกต่างกันในเรื่องของสีของกระดาษและตัวอักษร ลักษณะการสแกนรูปภาพจึงทำให้การนำประโยคข้อความที่ถูกตัดออกมาทำ OCR แล้วเกิดความผิดผลาดเยอะ

\underline{การแก้ไข}

	ทำการแก้ไขกระบวนการการเตรียมข้อมูลรูปภาพ จากการพยายามข้ามหน้าสีเป็นพัฒนาการลบพื้นหลังในรูปแบบใหม่
\subsection{ปัญหาการหมุนไม่ตรง}
เนื่องจากภาษาไทยมีสระวรรณยุกต์ด้านบนต่อกันสูงสุดต่อกันถึง 2 ชั้นนอกจากนั้นยังมีสระวรรณยุกต์ด้านล่างทำให้บางทีไม่สามารถแยกข้อความแต่ละบรรทัดออกมาได้อย่างสมบูรณ์จึงทำให้มีการหมุนที่ผิดพลาดเกิดขึ้น

\underline{การแก้ไข}

	ทำการแก้ไขกระบวนการการเตรียมข้อมูลรูปภาพ ปรับเปลี่ยนวิธีการหมุนเป็นการหา Arctan ที่จุดขอบด้านบนที่ทำให้การหมุนมีข้อผิดพลาดน้อยลง
\subsection{ปัญหาการแก้ไขคำผิด}
เนื่องจากการแก้ไขคำผิดยังไม่สามารถแก้คำผิดรูปแบบคำเฉพาะได้อย่างเช่นชื่อคน หรือชื่อสถานที่ หรืออาจจะคิดว่าคำเฉพาะนั้นผิดพลาดและทำการแก้ไขให้อัตโนมัติทำให้คำที่ได้รับออกมาเกิดข้อผิดพลาดขึ้น

\underline{การแก้ไข}

	ให้ผู้ใช้งานได้ตรวจสอบและแก้ไขได้เองก่อจะเพิ่มข้อมูลเข้าสู่ระบบและเพิ่มข้อมูลคำเฉพาะบางส่วนลงไป
\subsection{ปัญหาเรื่องระยะเวลาในการเพิ่มข้อมูลหนังสือ}
เนื่องจากการเพิ่มข้อมูลมีขั้นตอนจำนวนมากและใช้เวลานานผู้จัดทำจึงออกแบบโครงสร้างเป็นระบบ Thread เพื่อที่จะให้เซิฟเวอร์ตอบกลับไปยังผู้ใช้งานและเปิด Thread ในการทำงานไม่ว่าจะเป็น OCR หรือการทำการเตรียมข้อมูลตัวหนังสือ เพื่อเพิ่มความเร็วในการทำงานแต่ก็ไม่สามารถลดเวลาการทำงานลงได้

\underline{การแก้ไข}

	ทำแก้ไขโดยการ Spawn Proces แทนขึ้นมาเนื่องจาก python นั้นเวลาเปิด Thread ยังคงใช้ core เดียวในการประมวลลัพธ์จึงต้องเปลี่ยนมาเป็นการ Spawn Process ที่แยกการใช้ core ของหน่วยประมวลผลทำให้สามารถลดเวลาในการเพิ่มข้อมูลหนังสือได้

\subsection{ปัญหาของการหาคำเหมือนของโมเดล Word2Vec}

	จากการทดลองสร้างโมเดลโดยการนำหนังสือ กตเวทิตา และ รายงานประจำปีมาทำโมเดลพบว่าคำในประโยคส่วนใหญ่ของเหล่าหนังสือนี้ มีวิธีการเขียนที่แตกต่างจากหนังสือทั่วไปทั้ง 
	ภาษาและคำที่นำมาใช้เขียนภายในหนังสือ ทำให้ความเมื่อนำมาทำโมเดล Word2Vec จึงทำให้ค่าความสัมพันธ์ของคำนั้นไม่ดี นอกจากนั้นยังมีเรื่องของจำนวนข้อมูลที่นำมาใช้ในแต่ละโมเดลซึ่ง 
	แบ่งเป็นโมเดลที่มีข้อมูล 44 เล่ม และโมเดลที่มีข้อมูล 6 เล่ม ซึ่งจำนวนข้อมูลที่นำมาใช้งานยังมีไม่มากพอที่จะทำให้หาความสัมพันธ์ที่ดี นอกจากนั้นปัญหาเรี่องคำที่ผิดภายในข้อมูลก็ยังส่งผลทำ
	ให้การหาค่าความสัมพันธ์ยิ่งแย่อีกด้วยถึงแม้จะมีแก้ไขคำผิดในข้อมูลหนังสือ 6 เล่มก็ตามแต่ด้วยจำนวนที่น้อยจึงทำให้ประสิทธิ์ภาพการทำงานแย่

\underline{การแก้ไข}	
หาหนังสือที่มีลักษณะการเขียนหนังสือแบบนี้เพิ่มเติมเข้ามาใช้ในการสร้างโมเดล นอกจากนั้นการแก้ไขคำผิดให้ถูกต้องทั้งหมดและการตัดคำภายในประโยคให้มีความถูกต้องมากยิ่งขึ้น

\section{ข้อจำกัดและข้อเสนอแนะ}
\begin{enumerate}
    \item การแก้ไขคำเฉพาะยังไม่สามารถทำได้ถึงแม้จะมีการเพิ่มคำศัพท์เฉพาะลงไปก็ตามแต่ก็ยังต้องให้มนุษย์เป็นผู้ตรวจสอบอีกรอบเพื่อความถูกต้อง
    \item เนื่องจากลักษณะหนังสือแต่และเล่มแตกต่างกันทำให้การเตรียมข้อมูลรูปภาพที่อาจจะไม่ได้ส่งผลลัพธ์ที่ดีที่สุดให้กับหนังสือทุกประเภททำให้ประสิทธิ์ภาพในหนังสือบางเล่มน้อยกว่าหรือมากกว่าอีกเล่มได้
    \item ลักษณะแสงของการสแกนหนังสือเนื่องจากไฟล์ที่ได้รับมาไม่มีการควบคุมในการสแกนหนังสือเข้ามาจึงทำให้ไฟล์มีความสว่างที่ไม่เท่ากันขนาดและการจัดวางที่ไม่เหมือนกันทำให้ประสิทธิ์ภาพของแต่ละเล่มอาจจะไม่เท่าเดิม
    \item การพัฒนาระบบการค้นหาด้วยการใช้ความสัมพันธ์ของลำดับรูปประโยค เนื่องจากรูปประโยคจะประกอบด้วยคำศัพท์มารวมกัน ซึ่งลำดับการจัดเรียงคำทำให้เกิดความหมาย อย่างเช่น “วันนี้ กิน ข้าว อะไร ดี” กับ “ดี วันนี้ กิน อะไร ข้าว” จะเห็นได้ว่าประโยคอย่างหลังไม่สามารถตีความหมายได้อย่างชัดเจน หลังจากการวิเคราะห์ลักษณะกับรูปแบบระบบการค้นหาที่ยังขาดส่วนนี้อยู่ ทำให้การค้นหาของผู้ใช้งานสามารถค้นหาคีย์เวิร์ดได้ แต่ไม่สามารถค้นหาไปถึงความหมายที่จะสื่อถึงได้ในบางกรณีอย่าง “กรรมการ จัดการ แข่งขัน” กับ “แข่งขัน กรรมการ จัดการ” โดยที่คำเหมือนกันแต่การสื่อความหมายต่างกัน ดังนั้นเราจึงได้นำทฤษฎีที่มีชื่อว่า Bi-gram, N-gram มาศึกษาโดยทฤษฎีนี้จะมาช่วยในการเชื่อมความสัมพันธ์ของลำดับรูปประโยคได้
\end{enumerate}
